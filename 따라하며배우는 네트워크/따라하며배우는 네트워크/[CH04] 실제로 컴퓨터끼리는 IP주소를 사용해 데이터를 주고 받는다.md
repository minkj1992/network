# [CH04] 실제로 컴퓨터끼리는 IP주소를 사용해 데이터를 주고 받는다.
> OSI 3계층 , IP주소 반드시 숙지

## 3계층의 기능
> 서로 다른 LAN대역을 연결시켜주는 역할
- 3계층에서 하는 일
	- 3계층은 다른 네트워크 대역 즉, 멀리 떨어진 곳에 존재하는 네트워크까지 어떻게 데이터를 전달할지 제어하는 일을 담당
	- 발신에서 착신까지의 패킷의 경로를 제어
- 3계층에서 쓰는 주소
	- WAN에서 통신할 때 사용하는 IP 주소
- 3계층 프로토콜
	- `ARP`
	- `IPv4`
	- `ICMP`
## 일반적인 IP 주소
> 4byte 10진수
- `Classful`
	- 초창기에 쓰던 개념 (A,B,C,D,E 클래스)
	- 낭비가 심한 IP 주소
	- ex) 강의장에 31대의 컴퓨터밖에 안쓰는데 A클래스 네트워크 대역을 쓴다면 약 1600만개의 컴퓨터 IP주소가 낭비된다.
- `Classless`
	- 낭비되지 않도록 아껴쓰는 주소
	-  **역사적으로 첫번째 변화**
	- Classful에서는 `.`필드단위로 잘라서 주소를 선택했던 방식에서 4byte인 32개의 숫자들중 아무데서나 잘라서 숫자를 표현할 수 있게 해주었다. (`서브넷 마스크`, 네트워크 대역 / 컴퓨터 대역의 기준점을 잡아준다. )
	- 이를 통해 적은 컴퓨터를 가진다면 네트워크 대역을 더 많이주어 -> 더 많은 대역으로 쪼개고 -> 상대적으로 많은 대역 안에 적은 컴퓨터들이 연결되도록 할 수 있다.
- 서브넷 마스크
	- 11111111 000000 연속된 1과 이후는 연속적인 0
	- 이를 통하여 어디까지 네트워크 대역인지 표시해준다.

- 사설 IP와 공인 IP (**역사적으로 2번째 변화**)
	- 현재 사용하고 있는 IPv4 기술이다.
	- 공인 IP
		- 실제 네트워크 통신망과 통신할 때 사용하는 통신망
		-  네트워크 공유기 ip
		- 네트워크 공유기가 네이버 서버로 부터 데이터를 전달 받고, 이를 사설 IP를 통해서 내 컴퓨터에 전달해준다.
		- 이런 기능을 `NAT`기술(Network Address Translation)
			- `NAT`기술(특정 Ip를 특정 IP로 변경) 을 사용하여 부족한 IPv4 주소 체계를 해결하기 위해 사설/공용 IP기능을 추가하였다.
	- 사설 IP
		- 같은 네트워크 대역에서 사용하는 IP
	- 사설 IP는 공인 IP와 바꾸어서 인터넷(외부세상)과 통신한다. 
		- 실제 cmd에서 ipconfig가 실제 내 IPv4 주소(사설 ip), 네이버에 내 ip주소라고 쳐서 나온 것이 공인 IP 주소
- 사설 IP는 기본적으로 외부세상(인터넷)에서 참조할 수 없다.
- 다만 `포트 포워딩`을 사용하면 사설 ip주소에 대해서 외부에서 접근할 수 있다.
- 
## 특수한 IP 주소
- 0.0.0.0( `WildCard`)
	- 나머지 모든 IP
- 127.X.X.X
	- 127.0.0.1
		- 자기 자신
- `게이트웨이 주소`
	- 외부로 나가기 위해서 필요한 주소
	- 일반적으로 공유기 주소를 사용
## 실습
- 내 PC의 IP주소
- 네이버가 보는 내 IP주소